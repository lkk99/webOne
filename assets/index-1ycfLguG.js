import{_ as x,e as h,L as w,r as u,A as B,f as a,b as C,c as V,g as o,w as n,d as m,q as f}from"./index-CveQr6yx.js";import{i as p}from"./book-CpxFzjtq.js";const I={class:"cont"},T=["innerHTML"],q={class:"buttn"},D={__name:"index",setup(R){h();const _=w(),i=u(null);u(!1);const t=u({}),v=B({title:[{required:!0,message:"请输入",trigger:"blur"}]}),b=()=>{history.go(-1)},y=l=>{let e=document.getElementById("editableDivs").innerText;l&&l.validate(async s=>{s&&e&&(await p({bookId:_.query.id,...t.value,content:e,release:1})).code===200&&(t.value={},history.go(-1))})},g=l=>{let e=document.getElementById("editableDivs").innerText;l&&l.validate(async s=>{s&&e&&(await p({bookId:_.query.id,...t.value,content:e,release:0})).code===200&&(t.value={},history.go(-1))})};return(l,e)=>{const s=a("el-input"),r=a("el-form-item"),k=a("el-form"),d=a("el-button");return C(),V("div",I,[o(k,{ref_key:"ruleFormRef",ref:i,model:t.value,"label-width":"120px","label-position":"right",rules:v,style:{"margin-top":"20px",width:"90%"}},{default:n(()=>[o(r,{label:"目录名称",prop:"title"},{default:n(()=>[o(s,{modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=c=>t.value.title=c),style:{width:"100%"},placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),o(r,{label:"内容",prop:"content"},{default:n(()=>[m("div",{contenteditable:"true",placeholder:"",id:"editableDivs",class:"condiv",innerHTML:t.value.content},null,8,T)]),_:1})]),_:1},8,["model","rules"]),m("span",q,[o(d,{plain:"",style:{color:"#680ff7c2",background:"#fff",border:"1px solid #680ff7c2"},onClick:b},{default:n(()=>[f(" 返回 ")]),_:1}),o(d,{style:{color:"#fff",background:"#680ff7c2",border:"none"},onClick:e[1]||(e[1]=c=>y(i.value))},{default:n(()=>[f(" 发布 ")]),_:1}),o(d,{style:{color:"#fff",background:"#680ff7c2",border:"none"},onClick:e[2]||(e[2]=c=>g(i.value))},{default:n(()=>[f(" 保存 ")]),_:1})])])}}},F=x(D,[["__scopeId","data-v-ae654c68"]]);export{F as default};
