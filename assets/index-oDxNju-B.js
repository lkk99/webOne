import{b as h}from"./dictOption-qoVdwWE9.js";import{_ as C,e as B,r as p,A as q,f as s,b as f,c as _,g as t,w as a,d as F,F as N,j as R,h as U,l as T,q as c}from"./index-C7dgg-A2.js";import{c as b}from"./book-CJFyOkzo.js";const $={class:"cont"},j={class:"buttn"},A={__name:"index",setup(I){const m=B(),u=p(null);p(!1);const l=p({}),v=q({name:[{required:!0,message:"请输入",trigger:"blur"}],type:[{required:!0,message:"请选择",trigger:"blur"}],synopsis:[{required:!0,message:"请输入",trigger:"blur"}]}),y=()=>{history.go(-1)},g=r=>{r&&r.validate(async e=>{e&&(await b({...l.value,release:1})).code===200&&(l.value={},m.replace("/read/authorbook"))})},k=r=>{r&&r.validate(async e=>{e&&(await b({...l.value,release:0})).code===200&&(l.value={},m.replace("/read/authorbook"))})};return(r,e)=>{const n=s("el-input"),d=s("el-form-item"),V=s("el-option"),x=s("el-select"),w=s("el-form"),i=s("el-button");return f(),_("div",$,[t(w,{ref_key:"ruleFormRef",ref:u,model:l.value,"label-width":"120px","label-position":"right",rules:v,style:{"margin-top":"20px",width:"90%"}},{default:a(()=>[t(d,{label:"名称",prop:"name"},{default:a(()=>[t(n,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.name=o),style:{width:"100%"},placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),t(d,{label:"类型",prop:"type"},{default:a(()=>[t(x,{modelValue:l.value.type,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.type=o),placeholder:"请选择"},{default:a(()=>[(f(!0),_(N,null,R(T(h),o=>(f(),U(V,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"简介",prop:"synopsis"},{default:a(()=>[t(n,{modelValue:l.value.synopsis,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.synopsis=o),modelModifiers:{trim:!0},type:"textarea",rows:6,style:{width:"100%"},placeholder:"请输入简介"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),F("span",j,[t(i,{plain:"",style:{color:"#680ff7c2",background:"#fff",border:"1px solid #680ff7c2"},onClick:y},{default:a(()=>[c(" 返回 ")]),_:1}),t(i,{style:{color:"#fff",background:"#680ff7c2",border:"none"},onClick:e[3]||(e[3]=o=>g(u.value))},{default:a(()=>[c(" 发布 ")]),_:1}),t(i,{style:{color:"#fff",background:"#680ff7c2",border:"none"},onClick:e[4]||(e[4]=o=>k(u.value))},{default:a(()=>[c(" 保存 ")]),_:1})])])}}},D=C(A,[["__scopeId","data-v-cfc77d41"]]);export{D as default};
