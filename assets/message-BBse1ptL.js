import{_ as g,b as l,c as p,d as o,x as i,t as c}from"./index-C7dgg-A2.js";const u={data(){return{draggedContent:"拖拽我",droppedContent:"<p>放置haode区域</p><p>放置haode区域</p>"}},computed:{draggedDivStyle(){return{backgroundColor:"lightblue",padding:"10px",cursor:"move"}}},methods:{dragStart(t){t.dataTransfer.setData("text/plain",JSON.stringify({content:this.draggedContent,style:this.draggedDivStyle})),t.target.style.opacity="0.4"},dragEnd(t){t.target.style.opacity="1"},dragOver(t){t.preventDefault()},drop(t){t.preventDefault();const n=document.caretRangeFromPoint(t.clientX,t.clientY).startOffset;console.log(n);const s=JSON.parse(t.dataTransfer.getData("text/plain")),d=this.droppedContent.slice(0,n+3)+"<span>"+s.content+"</span>"+this.droppedContent.slice(n+3);this.droppedContent=d,this.droppedDivStyle=s.style}}},f=["innerHTML"];function y(t,e,n,s,d,r){return l(),p("div",null,[o("div",{draggable:"true",onDragstart:e[0]||(e[0]=(...a)=>r.dragStart&&r.dragStart(...a)),onDragend:e[1]||(e[1]=(...a)=>r.dragEnd&&r.dragEnd(...a))},[o("div",{class:"draggable-content",style:i(r.draggedDivStyle)},[o("p",null,c(d.draggedContent),1)],4)],32),o("div",{contenteditable:"true",id:"editableDivs",class:"drop-container",onDragover:e[2]||(e[2]=(...a)=>r.dragOver&&r.dragOver(...a)),onDrop:e[3]||(e[3]=(...a)=>r.drop&&r.drop(...a)),innerHTML:d.droppedContent},null,40,f)])}const v=g(u,[["render",y]]);export{v as default};
